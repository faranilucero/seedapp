USE base;

-- BASE COMPANY SETUP
INSERT INTO ORGS (ORG_NAME, ORG_DESCRIPTION, PASSWORD_MIN_LENGTH, PASSWORD_MIN_UPPERCASE, PASSWORD_MIN_LOWERCASE, PASSWORD_MIN_NUMBERS, PASSWORD_MIN_SYMBOLS, PASSWORD_MIN_DAYS_EXPIRE, PASSWORD_MIN_REMEMBER_PREVIOUS)
VALUES ('My Company Name', 'My First Company', 6, 1, 1, 1, 1, 120, 5);
SET @ORG_ID = LAST_INSERT_ID();

-- ADMIN PERMISSION/GROUP/USER SETUP
INSERT INTO PERMISSIONS (PERMISSION_NAME, PERMISSION_DESCRIPTION, ORG_ID)
VALUES ('ADMIN', 'System adminstrator and super-user access.', @ORG_ID);
SET @ADMIN_PERMISSION_ID = LAST_INSERT_ID();

INSERT INTO USER_GROUPS (USER_GROUP_NAME, ORG_ID)
VALUES ('ADMINISTRATORS', @ORG_ID);
SET @ADMIN_USER_GROUP_ID = LAST_INSERT_ID();

INSERT INTO USER_GROUP_PERMISSIONS (USER_GROUP_ID, PERMISSION_ID)
VALUES (@ADMIN_USER_GROUP_ID, @ADMIN_PERMISSION_ID);

INSERT INTO USERS (USER_FIRST_NAME, USER_LAST_NAME, USER_EMAIL_ADDRESS, EMAIL_VERIFIED, ACTIVE, LOCKED_OUT, ORG_ID)
VALUES ('admin', 'account', 'admin@email.com', true, true, false, @ORG_ID);
SET @ADMIN_USER_ID = LAST_INSERT_ID();

INSERT INTO USER_PASSWORDS (USER_ID, USER_PASSWORD_HASH)
VALUES (@ADMIN_USER_ID, '00000010000d51579d6ec9c3786da421954da0741f56ee7d684a4ee23014ca7185497cca55b8fdf6a0e8ba8422260054895e6d1d961d294e');
-- DEFAULT PASSWORD = admin12345

INSERT INTO USER_GROUP_USERS (USER_GROUP_ID, USER_ID)
VALUES (@ADMIN_USER_GROUP_ID, @ADMIN_USER_ID);


-- USER PERMISSION/GROUP SETUP
INSERT INTO PERMISSIONS (PERMISSION_NAME, PERMISSION_DESCRIPTION, ORG_ID)
VALUES ('USER', 'Normal system user access.', @ORG_ID);
SET @PERMISSION_ID = LAST_INSERT_ID();

INSERT INTO USER_GROUPS (USER_GROUP_NAME, ORG_ID)
VALUES ('USERS', @ORG_ID);
SET @GROUP_ID = LAST_INSERT_ID();

INSERT INTO USER_GROUP_PERMISSIONS (USER_GROUP_ID, PERMISSION_ID)
VALUES (@GROUP_ID, @PERMISSION_ID);


-- GUEST PERMISSION/GROUP SETUP
INSERT INTO PERMISSIONS (PERMISSION_NAME, PERMISSION_DESCRIPTION, ORG_ID)
VALUES ('GUEST', 'Guest access.', @ORG_ID);
SET @PERMISSION_ID = LAST_INSERT_ID();

INSERT INTO USER_GROUPS (USER_GROUP_NAME, ORG_ID)
VALUES ('GUEST', @ORG_ID);
SET @GROUP_ID = LAST_INSERT_ID();

INSERT INTO USER_GROUP_PERMISSIONS (USER_GROUP_ID, PERMISSION_ID)
VALUES (@GROUP_ID, @PERMISSION_ID);